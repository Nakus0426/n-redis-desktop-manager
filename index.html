<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<style>
			body {
				margin: 0;
				padding: 0;
			}

			.app_loading {
				height: 100vh;
				width: 100vw;
				display: flex;
				align-items: center;
				justify-content: center;
				overflow: hidden;
				-webkit-app-region: drag;
			}

			.app_loading_logo {
				height: 96px;
				user-select: none;
			}

			#light {
				display: none;
			}

			#dark {
				display: none;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<div class="app_loading">
				<img class="app_loading_logo" id="light" draggable="false" src="src/assets/icons/logo-solid.svg" />
				<img class="app_loading_logo" id="dark" draggable="false" src="src/assets/icons/logo-solid-dark.svg" />
			</div>
		</div>
		<script type="module" src="/src/render.ts"></script>
		<script>
			const app = JSON.parse(localStorage.getItem('STORE_APP') || '{}')
			const isDarkTheme = app?.theme === 'dark'
			const micaEnable = window.mainWindow.getMicaConfig()
			document.getElementById(isDarkTheme ? 'dark' : 'light').style.display = 'block'
			document.getElementById('app').style.background = micaEnable ? 'transparent' : isDarkTheme ? '#181818' : '#eeeeee'
			document.getElementsByClassName('app_loading_icon-conic')[0].style.background = isDarkTheme
				? 'conic-gradient(from 90deg at 50% 50%, transparent 0deg, #0052d9 360deg)'
				: 'conic-gradient(from 90deg at 50% 50%, transparent 0deg, #4582e6 360deg)'
		</script>
	</body>
</html>
